version: '{build}-{branch}'
branches:
  only:
   - develop
   - master
skip_tags: true
image: Visual Studio 2015
clone_folder: C:\projects\GF

install:
  - cmd: vcpkg install sdl2 freetype boost zlib
  - cmd: git submodule update --init

environment:
  BOOST_ROOT: C:\projects\boost\
  BOOST_INCLUDEDIR: C:\projects\boost\boost\
  BOOST_LIBRARYDIR: C:\projects\boost\lib32-msvc-14.0\
  SDL2DIR: C:\projects\SDL\SDL2-2.0.4\
  SDL2ARCH: x86
  FREETYPE_DIR: C:\projects\freetype\

cache:
  - boost.exe

before_build:
  - cmd: cd C:\projects\GF
  - cmd: mkdir build
  - cmd: cd build
  - cmd: cmake -DGF_DEBUG=OFF -DGF_BUILD_GAMES=ON -DGF_BUILD_TOOLS=ON -DGF_SINGLE_COMPILTATION_UNIT=ON -DCMAKE_TOOLCHAIN_FILE=C:\Tools\vcpkg\scripts\buildsystems\vcpkg.cmake ..

configuration: Release

build:
  project: C:\projects\GF\build\GF.sln
  verbosity: normal
